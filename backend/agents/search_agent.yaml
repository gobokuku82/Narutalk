# Search Agent Configuration
# ì •ë³´ ê²€ìƒ‰, ë°ì´í„° ì…ë ¥, ë¬¸ì„œ ìƒì„± í•„ìš”ì„± íŒë‹¨

agent:
  name: "search_agent"
  display_name: "ì •ë³´ ê²€ìƒ‰ ë° ë°ì´í„° ì…ë ¥ ì—ì´ì „íŠ¸"
  version: "1.0.0"
  description: "ë‚´ì™¸ë¶€ ì •ë³´ ê²€ìƒ‰, ë°ì´í„° ì…ë ¥ íŒë‹¨, ë¬¸ì„œ ìƒì„± ë¼ìš°íŒ…"
  icon: "ğŸ”"
  color: "#00BFA5"

# ì—ì´ì „íŠ¸ ëŠ¥ë ¥ ì •ì˜
capabilities:
  information_retrieval:
    confidence: 0.92
    description: "ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ ì •ë³´ ê²€ìƒ‰"
    sources:
      internal:
        - knowledge_base
        - document_repository
        - product_database
        - regulation_database
        - clinical_data
      external:
        - web_search
        - news_api
        - medical_journals
        - regulatory_updates
        - competitor_analysis
      
  source_selection:
    confidence: 0.88
    description: "ìµœì ì˜ ì •ë³´ ì†ŒìŠ¤ ì„ íƒ"
    strategies:
      - relevance_based
      - freshness_priority
      - authority_ranking
      - cost_optimization
      
  data_entry_detection:
    confidence: 0.85
    description: "ë°ì´í„° ì…ë ¥ í•„ìš”ì„± íŒë‹¨"
    entry_types:
      - visit_report_entry
      - customer_update
      - product_feedback
      - adverse_event
      - sales_activity
      
  document_need_assessment:
    confidence: 0.87
    description: "ë¬¸ì„œ ìƒì„± í•„ìš”ì„± í‰ê°€"
    assessment_criteria:
      - query_intent
      - data_complexity
      - audience_type
      - compliance_requirement

# íŠ¸ë¦¬ê±° ì¡°ê±´
triggers:
  keywords:
    high_priority:
      - "ê²€ìƒ‰"
      - "ì°¾ì•„"
      - "ì¡°íšŒ"
      - "í™•ì¸"
      - "ì•Œë ¤ì¤˜"
      - "ì •ë³´"
      - "ìë£Œ"
      - "ì…ë ¥"
      
    medium_priority:
      - "ì–´ë””"
      - "ì–¸ì œ"
      - "ëˆ„ê°€"
      - "ë­"
      - "ì–´ë–»ê²Œ"
      - "ì—…ë°ì´íŠ¸"
      - "ë“±ë¡"
      
    contextual:
      - "ìµœì‹ "
      - "ê·œì •"
      - "ê°€ì´ë“œë¼ì¸"
      - "ê²½ìŸì‚¬"
      - "ì‹œì¥ë™í–¥"
      - "ë‰´ìŠ¤"
      - "í•™íšŒ"
      - "ì„ìƒ"
      
  patterns:
    - pattern: ".*ì œí’ˆ.*ì •ë³´.*"
      confidence_boost: 0.25
      priority: "high"
      
    - pattern: ".*ê·œì •.*í™•ì¸.*"
      confidence_boost: 0.3
      priority: "high"
      
    - pattern: ".*ê²½ìŸ.*ë™í–¥.*"
      confidence_boost: 0.25
      priority: "medium"
      
    - pattern: ".*ë°©ë¬¸.*ì…ë ¥.*"
      confidence_boost: 0.3
      priority: "high"
      action: "data_entry"
      
    - pattern: ".*ë³´ê³ ì„œ.*í•„ìš”.*"
      confidence_boost: 0.2
      priority: "medium"
      action: "document_routing"

# ì •ë³´ ì†ŒìŠ¤ ìš°ì„ ìˆœìœ„
source_priority:
  product_info:
    1: "product_database"
    2: "knowledge_base"
    3: "clinical_data"
    
  regulation:
    1: "regulation_database"
    2: "regulatory_updates"
    3: "web_search"
    
  market_info:
    1: "competitor_analysis"
    2: "news_api"
    3: "web_search"
    
  customer_info:
    1: "crm_system"
    2: "visit_reports"
    3: "document_repository"

# ë¼ìš°íŒ… ê·œì¹™
routing_rules:
  to_document_agent:
    conditions:
      - "complex_data_presentation"
      - "formal_report_needed"
      - "multiple_stakeholders"
      - "compliance_required"
    triggers:
      - "ë³´ê³ ì„œ ì‘ì„±"
      - "ë¬¸ì„œë¡œ ë§Œë“¤ì–´"
      - "ë°œí‘œìë£Œ"
      - "ê³µì‹ ë¬¸ì„œ"
      
  to_analysis_agent:
    conditions:
      - "numerical_analysis_needed"
      - "statistical_processing"
      - "trend_identification"
    triggers:
      - "ë¶„ì„ í•„ìš”"
      - "í†µê³„ ì²˜ë¦¬"
      - "ìˆ˜ì¹˜ í™•ì¸"
      
  to_customer_agent:
    conditions:
      - "customer_specific"
      - "personalization_needed"
    triggers:
      - "ê³ ê° ë§ì¶¤"
      - "ê±°ë˜ì²˜ íŠ¹ì„±"

# ì‚¬ìš© ì˜ˆì‹œ
examples:
  - query: "Aì œí’ˆì˜ ìµœì‹  ì„ìƒ ë°ì´í„°ë¥¼ ì°¾ì•„ì¤˜"
    intent: "product_clinical_search"
    source_selection: ["clinical_data", "medical_journals"]
    document_need: false
    expected_output: "ì„ìƒ ë°ì´í„° ìš”ì•½"
    
  - query: "ê²½ìŸì‚¬ Bì˜ ì‹ ì œí’ˆ ì¶œì‹œ ì •ë³´ ê²€ìƒ‰"
    intent: "competitor_product_search"
    source_selection: ["competitor_analysis", "news_api"]
    document_need: true
    route_to: "document_agent"
    expected_output: "ê²½ìŸì‚¬ ë¶„ì„ ë³´ê³ ì„œ"
    
  - query: "ì˜¤ëŠ˜ ë°©ë¬¸í•œ Cë³‘ì› ë°©ë¬¸ ë‚´ìš© ì…ë ¥í•´ì•¼ í•´"
    intent: "visit_report_entry"
    action: "data_entry"
    form_type: "visit_report"
    expected_output: "ë°©ë¬¸ë³´ê³ ì„œ ì…ë ¥ í¼"
    
  - query: "ìƒˆë¡œìš´ ë³´í—˜ ê¸‰ì—¬ ê·œì • í™•ì¸"
    intent: "regulation_search"
    source_selection: ["regulation_database", "regulatory_updates"]
    document_need: true
    expected_output: "ê·œì • ë³€ê²½ì‚¬í•­ ë¬¸ì„œ"

# ì‹¤í–‰ ì„¤ì •
execution:
  timeout: 20
  max_retries: 3
  parallel_search: true
  max_parallel_sources: 5
  cache_ttl: 1800  # 30 minutes
  
  search_limits:
    internal: 100
    external: 50
    news: 20
    
  freshness_requirements:
    regulation: 1  # days
    news: 7
    product_info: 30
    general: 90

# ê²€ìƒ‰ ì „ëµ
search_strategies:
  comprehensive:
    description: "ëª¨ë“  ê´€ë ¨ ì†ŒìŠ¤ ê²€ìƒ‰"
    sources: "all"
    depth: "deep"
    use_when:
      - "critical_decision"
      - "compliance_check"
      - "comprehensive_report"
      
  quick:
    description: "ë¹ ë¥¸ ê¸°ë³¸ ê²€ìƒ‰"
    sources: "primary"
    depth: "shallow"
    use_when:
      - "simple_query"
      - "known_location"
      - "time_sensitive"
      
  targeted:
    description: "íŠ¹ì • ì†ŒìŠ¤ ì§‘ì¤‘ ê²€ìƒ‰"
    sources: "selected"
    depth: "medium"
    use_when:
      - "specific_request"
      - "expert_query"

# ë°ì´í„° ì…ë ¥ í¼
data_entry_forms:
  visit_report:
    fields:
      - hospital_name: "required"
      - visit_date: "required"
      - attendees: "required"
      - purpose: "required"
      - products_discussed: "optional"
      - next_steps: "optional"
      - attachments: "optional"
      
  customer_update:
    fields:
      - customer_id: "required"
      - update_type: "required"
      - details: "required"
      - effective_date: "required"
      
  product_feedback:
    fields:
      - product_name: "required"
      - feedback_type: "required"
      - source: "required"
      - details: "required"
      - severity: "optional"

# í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
prompts:
  system: |
    ë‹¹ì‹ ì€ ì œì•½íšŒì‚¬ì˜ ì •ë³´ ê²€ìƒ‰ ë° ë°ì´í„° ê´€ë¦¬ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
    ì‚¬ìš©ìì˜ ì§ˆì˜ë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ì •ë³´ ì†ŒìŠ¤ë¥¼ ì„ íƒí•˜ê³  í•„ìš”í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
    
    í•µì‹¬ ì—­í• :
    1. ì§ˆì˜ ì˜ë„ íŒŒì•… ë° ì •ë³´ ì†ŒìŠ¤ ê²°ì •
    2. ë‚´ì™¸ë¶€ ì •ë³´ íš¨ìœ¨ì  ê²€ìƒ‰
    3. ë°ì´í„° ì…ë ¥ í•„ìš”ì„± íŒë‹¨
    4. ë¬¸ì„œ ìƒì„± í•„ìš”ì‹œ ì ì ˆí•œ ì—ì´ì „íŠ¸ë¡œ ë¼ìš°íŒ…
    
    ì¤€ìˆ˜ ì‚¬í•­:
    - ì •í™•ì„±: ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ ìš°ì„ 
    - ìµœì‹ ì„±: ê°€ì¥ ìµœê·¼ ì •ë³´ ì œê³µ
    - ì™„ì „ì„±: í•„ìš”í•œ ëª¨ë“  ì •ë³´ ìˆ˜ì§‘
    - íš¨ìœ¨ì„±: ìµœì ì˜ ê²€ìƒ‰ ê²½ë¡œ ì„ íƒ
    
  search_template: |
    ## ê²€ìƒ‰ ìš”ì²­: {query}
    
    ### ê²€ìƒ‰ ì „ëµ
    - ì„ íƒëœ ì†ŒìŠ¤: {selected_sources}
    - ê²€ìƒ‰ ê¹Šì´: {search_depth}
    - ìš°ì„ ìˆœìœ„: {priority}
    
    ### ê²€ìƒ‰ ê²°ê³¼
    {search_results}
    
    ### ì¶”ê°€ ì‘ì—… í•„ìš”
    - ë¬¸ì„œ ìƒì„±: {document_needed}
    - ë°ì´í„° ì…ë ¥: {data_entry_needed}
    - ì¶”ê°€ ë¶„ì„: {analysis_needed}
    
  routing_decision: |
    ì§ˆì˜ ë¶„ì„ ê²°ê³¼:
    - ì˜ë„: {intent}
    - ë³µì¡ë„: {complexity}
    - í•„ìš” ì‘ì—…: {required_actions}
    
    ë¼ìš°íŒ… ê²°ì •:
    - ëŒ€ìƒ ì—ì´ì „íŠ¸: {target_agent}
    - ì´ìœ : {routing_reason}
    - ì „ë‹¬ ë°ì´í„°: {forwarded_data}

# ì¶œë ¥ í˜•ì‹
output_formats:
  search_results:
    structure:
      - source_info
      - relevance_score
      - content_summary
      - full_content_link
      - metadata
      
  data_entry_response:
    structure:
      - form_type
      - required_fields
      - validation_rules
      - submission_endpoint
      
  routing_response:
    structure:
      - target_agent
      - forwarded_query
      - context_data
      - expected_outcome

# ì„±ëŠ¥ ë©”íŠ¸ë¦­
performance_metrics:
  search_quality:
    relevance_threshold: 0.8
    completeness_target: 0.9
    freshness_score: 0.85
    
  efficiency:
    avg_search_time: 3000  # ms
    cache_hit_rate: 0.6
    parallel_efficiency: 0.8
    
  routing_accuracy:
    correct_routing: 0.95
    document_need_detection: 0.9
    entry_need_detection: 0.88

# ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜
security:
  data_classification:
    public: "no_restriction"
    internal: "employee_only"
    confidential: "need_to_know"
    restricted: "special_permission"
    
  compliance_checks:
    - personal_info_masking
    - audit_trail
    - access_control
    - retention_policy

# í•™ìŠµ ë° ê°œì„ 
learning:
  search_optimization:
    track_patterns: true
    improve_ranking: true
    update_frequency: "daily"
    
  routing_improvement:
    collect_feedback: true
    analyze_patterns: true
    auto_adjust: true
    
  source_evaluation:
    reliability_scoring: true
    freshness_tracking: true
    usage_analytics: true
